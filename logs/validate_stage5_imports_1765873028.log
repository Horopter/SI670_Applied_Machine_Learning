2025-12-16 03:17:08 [INFO] [__main__:51] Validation log file: /gpfs/accounts/si670f25_class_root/si670f25_class/santoshd/fvc/logs/validate_stage5_imports_1765873028.log
2025-12-16 03:17:08 [DEBUG] [__main__:52] ================================================================================
2025-12-16 03:17:08 [DEBUG] [__main__:53] Starting Stage 5 import validation
2025-12-16 03:17:08 [DEBUG] [__main__:54] ================================================================================
2025-12-16 03:17:08 [DEBUG] [__main__:289] Starting validation process...
2025-12-16 03:17:08 [INFO] [__main__:61] ================================================================================
2025-12-16 03:17:08 [INFO] [__main__:62] Validating Stage 5 imports...
2025-12-16 03:17:08 [INFO] [__main__:63] ================================================================================
2025-12-16 03:17:08 [DEBUG] [__main__:64] Project root: /gpfs/accounts/si670f25_class_root/si670f25_class/santoshd/fvc
2025-12-16 03:17:08 [DEBUG] [__main__:65] Python path: ['/gpfs/accounts/si670f25_class_root/si670f25_class/santoshd/fvc', '/gpfs/accounts/si670f25_class_root/si670f25_class/santoshd/fvc/src/scripts', '/sw/pkgs/arc/python3.11-anaconda/2024.02-1/lib/python311.zip']
2025-12-16 03:17:08 [DEBUG] [__main__:66] Python version: 3.11.7 (main, Dec 15 2023, 18:12:31) [GCC 11.2.0]
2025-12-16 03:17:08 [INFO] [__main__:69] 
[1/8] Testing lib.models imports...
2025-12-16 03:17:08 [DEBUG] [__main__:70] Attempting to import from lib.models...
2025-12-16 03:17:08 [DEBUG] [__main__:72] Importing VideoConfig, VideoDataset, variable_ar_collate, PretrainedInceptionVideoModel, VariableARVideoModel
2025-12-16 03:17:49 [DEBUG] [__main__:80] ✓ VideoConfig imported: <class 'lib.models.video.VideoConfig'>
2025-12-16 03:17:49 [DEBUG] [__main__:81] ✓ VideoDataset imported: <class 'lib.models.video.VideoDataset'>
2025-12-16 03:17:49 [DEBUG] [__main__:82] ✓ variable_ar_collate imported: <function variable_ar_collate at 0x1509d59304a0>
2025-12-16 03:17:49 [DEBUG] [__main__:83] ✓ PretrainedInceptionVideoModel imported: <class 'lib.models.video.PretrainedInceptionVideoModel'>
2025-12-16 03:17:49 [DEBUG] [__main__:84] ✓ VariableARVideoModel imported: <class 'lib.models.video.VariableARVideoModel'>
2025-12-16 03:17:49 [INFO] [__main__:85]   ✓ All lib.models imports successful
2025-12-16 03:17:49 [INFO] [__main__:95] 
[2/8] Testing stage5 pipeline imports...
2025-12-16 03:17:49 [DEBUG] [__main__:96] Attempting to import stage5_train_models from lib.training.pipeline
2025-12-16 03:18:15 [DEBUG] [__main__:99] ✓ stage5_train_models imported: <function stage5_train_models at 0x150997b7dee0>
2025-12-16 03:18:15 [INFO] [__main__:100]   ✓ stage5 pipeline imports successful
2025-12-16 03:18:15 [INFO] [__main__:110] 
[3/8] Testing video_training_pipeline imports...
2025-12-16 03:18:15 [DEBUG] [__main__:111] Attempting to import from lib.training.video_training_pipeline
2025-12-16 03:18:18 [DEBUG] [__main__:120] ✓ train_video_model imported: <function train_video_model at 0x1509957751c0>
2025-12-16 03:18:18 [DEBUG] [__main__:121] ✓ is_feature_based imported: <function is_feature_based at 0x150997b7e0c0>
2025-12-16 03:18:18 [DEBUG] [__main__:122] ✓ is_video_based imported: <function is_video_based at 0x15099608b420>
2025-12-16 03:18:18 [DEBUG] [__main__:123] ✓ FEATURE_BASED_MODELS: {'logistic_regression_stage2', 'logistic_regression_stage2_stage4', 'svm_stage2_stage4', 'svm', 'logistic_regression', 'svm_stage2'}
2025-12-16 03:18:18 [DEBUG] [__main__:124] ✓ VIDEO_BASED_MODELS: {'timesformer', 'naive_cnn', 'xgboost_i3d', 'r2plus1d', 'i3d', 'xgboost_r2plus1d', 'two_stream', 'vit_gru', 'slowfast_attention', 'xgboost_vit_gru', 'vit_transformer', 'slowfast_multiscale', 'variable_ar_cnn', 'pretrained_inception', 'x3d', 'xgboost_pretrained_inception', 'vivit', 'slowfast', 'xgboost_vit_transformer'}
2025-12-16 03:18:18 [INFO] [__main__:125]   ✓ video_training_pipeline imports successful
2025-12-16 03:18:18 [INFO] [__main__:135] 
[4/8] Testing feature_training_pipeline imports...
2025-12-16 03:18:18 [DEBUG] [__main__:136] Attempting to import from lib.training.feature_training_pipeline
2025-12-16 03:18:18 [DEBUG] [__main__:142] ✓ train_feature_model imported: <function train_feature_model at 0x1509957754e0>
2025-12-16 03:18:18 [DEBUG] [__main__:143] ✓ load_features_for_training imported: <function load_features_for_training at 0x150995775440>
2025-12-16 03:18:18 [INFO] [__main__:144]   ✓ feature_training_pipeline imports successful
2025-12-16 03:18:18 [INFO] [__main__:154] 
[5/8] Testing model_factory imports...
2025-12-16 03:18:18 [DEBUG] [__main__:155] Attempting to import create_model from lib.training.model_factory
2025-12-16 03:18:18 [DEBUG] [__main__:158] ✓ create_model imported: <function create_model at 0x1509af685c60>
2025-12-16 03:18:18 [INFO] [__main__:159]   ✓ model_factory imports successful
2025-12-16 03:18:18 [INFO] [__main__:169] 
[6/8] Testing variable_ar_collate with dummy tensors...
2025-12-16 03:18:18 [DEBUG] [__main__:170] Importing torch and variable_ar_collate
2025-12-16 03:18:18 [DEBUG] [__main__:173] ✓ torch imported, version: 2.9.1+cu128
2025-12-16 03:18:18 [DEBUG] [__main__:174] ✓ CUDA available: True
2025-12-16 03:18:18 [DEBUG] [__main__:176] ✓ variable_ar_collate imported: <function variable_ar_collate at 0x1509d59304a0>
2025-12-16 03:18:18 [DEBUG] [__main__:179] Creating dummy batch with variable aspect ratios
2025-12-16 03:18:19 [DEBUG] [__main__:184] Batch[0] shape: torch.Size([8, 3, 256, 256]), label: 0
2025-12-16 03:18:19 [DEBUG] [__main__:185] Batch[1] shape: torch.Size([8, 3, 240, 320]), label: 1
2025-12-16 03:18:19 [DEBUG] [__main__:187] Calling variable_ar_collate...
2025-12-16 03:18:19 [DEBUG] [__main__:189] ✓ variable_ar_collate returned clips_padded shape: torch.Size([2, 3, 8, 256, 320]), labels shape: torch.Size([2])
2025-12-16 03:18:19 [DEBUG] [__main__:191] Validating output shapes...
2025-12-16 03:18:19 [DEBUG] [__main__:196] ✓ All shape assertions passed
2025-12-16 03:18:19 [INFO] [__main__:198]   ✓ variable_ar_collate works with dummy tensors
2025-12-16 03:18:19 [INFO] [__main__:208] 
[7/8] Testing model creation...
2025-12-16 03:18:19 [DEBUG] [__main__:209] Testing model creation with variable_ar_cnn
2025-12-16 03:18:19 [DEBUG] [__main__:213] ✓ create_model and RunConfig imported
2025-12-16 03:18:19 [DEBUG] [__main__:215] Creating RunConfig for variable_ar_cnn model
2025-12-16 03:18:19 [DEBUG] [__main__:223] RunConfig created: model_type=variable_ar_cnn, num_frames=8
2025-12-16 03:18:19 [DEBUG] [__main__:225] Calling create_model...
2025-12-16 03:18:19 [DEBUG] [__main__:227] ✓ Model created: <class 'lib.models.video.VariableARVideoModel'>
2025-12-16 03:18:19 [DEBUG] [__main__:229] ✓ Model is not None
2025-12-16 03:18:19 [INFO] [__main__:230]   ✓ Model creation works
2025-12-16 03:18:19 [INFO] [__main__:238] 
[8/8] Testing run_stage5_training.py imports...
2025-12-16 03:18:19 [DEBUG] [__main__:239] Testing imports needed by run_stage5_training.py
2025-12-16 03:18:19 [DEBUG] [__main__:242] ✓ stage5_train_models imported
2025-12-16 03:18:19 [DEBUG] [__main__:244] ✓ FEATURE_BASED_MODELS: {'logistic_regression_stage2', 'logistic_regression_stage2_stage4', 'svm_stage2_stage4', 'svm', 'logistic_regression', 'svm_stage2'}
2025-12-16 03:18:19 [DEBUG] [__main__:245] ✓ VIDEO_BASED_MODELS: {'timesformer', 'naive_cnn', 'xgboost_i3d', 'r2plus1d', 'i3d', 'xgboost_r2plus1d', 'two_stream', 'vit_gru', 'slowfast_attention', 'xgboost_vit_gru', 'vit_transformer', 'slowfast_multiscale', 'variable_ar_cnn', 'pretrained_inception', 'x3d', 'xgboost_pretrained_inception', 'vivit', 'slowfast', 'xgboost_vit_transformer'}
2025-12-16 03:18:19 [DEBUG] [__main__:247] ✓ log_memory_stats imported: <function log_memory_stats at 0x1509af76b6a0>
2025-12-16 03:18:19 [INFO] [__main__:249]   ✓ run_stage5_training.py imports work
2025-12-16 03:18:19 [INFO] [__main__:259] 
================================================================================
2025-12-16 03:18:19 [INFO] [__main__:260] Validation Summary
2025-12-16 03:18:19 [INFO] [__main__:261] ================================================================================
2025-12-16 03:18:19 [DEBUG] [__main__:262] Total errors: 0, Total warnings: 0
2025-12-16 03:18:19 [INFO] [__main__:272] 
✓ All critical imports validated successfully!
2025-12-16 03:18:19 [DEBUG] [__main__:273] No errors found in validation
2025-12-16 03:18:19 [INFO] [__main__:282] 
✅ Validation PASSED. Safe to run training jobs.
2025-12-16 03:18:19 [DEBUG] [__main__:283] Validation passed successfully - returning exit code 0
2025-12-16 03:18:19 [DEBUG] [__main__:291] Validation completed with exit code: 0
2025-12-16 03:18:19 [DEBUG] [__main__:294] Performing explicit cleanup (gc.collect, logging.shutdown)...
2025-12-16 03:18:19 [DEBUG] [__main__:296] GC collected, logging shutdown...
2025-12-16 03:18:19 [DEBUG] [__main__:298] Cleanup complete, using os._exit() to bypass Python cleanup phase
